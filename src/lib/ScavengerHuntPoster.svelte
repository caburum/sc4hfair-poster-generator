<script>
	import QRCode from 'qrcode-svg';
	import keyIcon from '../assets/key.svg?url';

	let { code, location } = $props();

	let svgCode = $derived(
		new QRCode({
			content: `https://sc4hfair.app/scavenger-hunt?referrer=sh&code=${code}`,
			ecl: 'Q',
			padding: 0,
		}).svg()
	);

	if (!code) console.log('No code provided');
</script>

<div class="page">
	<img class="qrcode" src={`data:image/svg+xml;base64,${window.btoa(svgCode)}`} alt="" />
	<div class="info">
		<img src={keyIcon} style="width: 1.9in; margin: -0.5in; margin-bottom: -0.4in;" alt="" />
		<h1 style="font-size: 42px; line-height: 1em;">
			SCAVENGER HUNT <br />
			UNLOCK CODE
		</h1>
		<p style="font-size: 24px;">sc4hfair.app/scavenger-hunt</p>
	</div>
	<div class="corner">
		{code} <br />
		{location}
	</div>
	<!-- <svg
		class="clover"
		xmlns="http://www.w3.org/2000/svg"
		viewBox="0 0 132.292 52.917"
		><path
			d="M48.152 83.288c-1.041.001-2.072.249-2.903.772-5.77 2.66-4.9 9.405-5.317 14.76-.14.158-.31.55-.657.429-.249-.136-.506-.412-.57-.65-.285-4.109.303-8.359-2.068-11.566-1.82-2.133-4.365-3.443-7.197-2.79-2.608.05-4.45 2.584-5.75 4.597-1.3 1.82-3.337 2.711-4.64 4.482-1.393 1.977-1.503 5.135-.173 7.146 3.048 3.992 8.044 4.097 12.841 4.063.769-.235 1.874-.399 2.493.248.116.284-.017.583-.249.738-3.462.54-6.953-.284-10.362.303-2.647.401-5.136 2.673-5.863 5.235-.698 2.177-.12 4.564 1.33 6.228 3.068 1.861 4.671 5.313 7.24 7.885 1.16.798 2.735 1.149 4.169.775 5.308-2.142 6.525-8.034 7.008-13.11.168-.4.18-1.075.765-1.017.243.036.36.32.373.561-.341 5.8-.138 11.943 2.465 16.742l4.073-.042c-2.6-3.876-3.878-8.46-4.442-13.227.16-1.415-.603-2.827.444-4.001.199-.011.492.022.597.257.423 3.178.993 6.297 2.552 8.969 1.487 2.293 3.758 4.633 6.646 4.226 2.271-.13 4.305-1.943 5.253-3.985.596-2.213 2.942-3.662 4.39-5.541 1.187-2.056 1.786-5.093.543-7.35-2.754-4.941-9.416-3.486-14.047-3.03-.876-.049-1.973.255-2.63-.33-.067-.288.06-.537.29-.75 2.24-.66 4.63-.456 6.996-.692 3.418-.437 6.974-1.805 8.527-5.188.917-1.849.626-4.31-.439-6.046l-.169-.198-.178-.198-.193-.188-.194-.18-.193-.173-.209-.17-.209-.163-.217-.154-.433-.308-.442-.299-.45-.299-.44-.29-.433-.308-.217-.154-.21-.163-.2-.171-.201-.172-.185-.172-.185-.189-.178-.19-.169-.198-.162-.215-.145-.216-.147-.233-.122-.242-.122-.251-.099-.26c-.448-.998-1.37-1.868-2.277-2.44-.935-.592-2.13-.908-3.31-.907zm2.318 5.521 1.025 1.056-.133.15-.133.14-.133.149-.141.15-.15.141-.141.15-.299.3-.291.29-.3.284-.14.15-.151.133-.142.14-.133.142 2.21 2.293.103.044 2.34-2.272 1.089 1.152-5.887 5.677-1.079-1.11c.68-.763 1.556-1.587 2.338-2.314l-2.313-2.337-2.399 2.267-1.028-1.106.365-.453 5.423-5.21zm-22.725 1.254c2.031 1.63 4.08 3.55 6.077 5.323l.006.1c-.37.362-.735.815-1.059 1.125l-2.401-2.141-2.233 2.407 2.402 2.14c-.315.46-.685.822-1.053 1.226l-6.071-5.374c.356-.453.63-.76 1.044-1.225l2.454 2.188 2.183-2.404c-.719-.782-1.589-1.455-2.355-2.193.268-.407.727-.815 1.006-1.172zm22.278 18.949 6.35 5.017.05-.003-.994 1.221c-.86-.483-1.683-1.359-2.54-1.933l-2.083 2.54 2.487 2.036c-.218.403-.577.815-.944 1.218l-.354-.22-6.05-4.843.995-1.222 2.543 1.992c.729-.774 1.361-1.633 2.085-2.498l-.152-.183-2.385-1.85zm-21.02.523 1.078 1.103-2.39 2.274 2.222 2.343 2.448-2.128 1.036 1.105-.185.252-5.802 5.281-1.089-1.152 2.393-2.224c-.722-.832-1.498-1.603-2.217-2.393a91 91 0 0 0-2.406 2.125c-.351-.32-.815-.726-1.078-1.094z"
			transform="matrix(1.1546 0 0 1.1546 -20.138 -96.165)"
			style="font-style: normal; font-variant: normal; font-weight: 400; font-stretch: normal; letter-spacing: normal; word-spacing: normal; text-anchor: start; fill-opacity: 1; fill-rule: evenodd; stroke: none; stroke-width: 0; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 4; stroke-dasharray: none; stroke-dashoffset: 0; stroke-opacity: 1;"
		/><g
			style="font-style: normal; font-weight: 400; font-size: 33.9473px; line-height: 1.25; font-family: sans-serif; letter-spacing: -2.46592px; word-spacing: 0px; fill-opacity: 1; stroke: none; stroke-width: 0.848684;"
			><path
				d="M72.415 118.085V94.322h15.344v3.497h-11v6.654h8.895v3.428H76.76v10.184zM84.546 118.085l8.69-23.763h4.889l8.69 23.763H102.2l-1.901-5.5H91.03l-1.935 5.5zm7.672-8.894h6.891l-3.462-9.878zM107.405 118.085V94.322h4.345v23.763zM113.9 118.085V94.322h8.725q2.852 0 4.685.985 1.867.95 2.784 2.614.916 1.63.916 3.632 0 2.173-1.154 3.972-1.12 1.8-3.53 2.614l4.922 9.946h-4.99l-4.413-9.37h-3.599v9.37zm4.346-12.56h4.108q2.172 0 3.19-1.052 1.02-1.053 1.02-2.784 0-1.698-1.02-2.716-.984-1.018-3.224-1.018h-4.074z"
				transform="matrix(1.1546 0 0 1.1546 -20.138 -96.165)"
				style="font-style: normal; font-variant: normal; font-weight: 700; font-stretch: normal; font-family: &quot;DM Sans&quot;; stroke-width: 0.848684;"
			/></g
		></svg
	> -->
	<div class="bottomRight">
		<svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 51.252 52.916"
			><path
				d="M35.458 0c-1.202 0-2.39.287-3.351.891-6.661 3.07-5.658 10.858-6.14 17.042-.161.182-.356.635-.758.495-.288-.157-.584-.475-.658-.75-.33-4.745.349-9.652-2.389-13.356-2.1-2.462-5.039-3.974-8.309-3.22-3.012.058-5.139 2.984-6.639 5.307C5.712 8.51 3.36 9.54 1.854 11.585c-1.606 2.281-1.733 5.928-.199 8.25 3.52 4.61 9.289 4.731 14.827 4.692.887-.273 2.163-.46 2.879.286.134.33-.019.673-.288.852-3.997.624-8.026-.326-11.964.35-3.056.463-5.93 3.088-6.77 6.045-.806 2.514-.139 5.27 1.537 7.19 3.542 2.15 5.393 6.135 8.358 9.104 1.34.922 3.158 1.327 4.813.896 6.129-2.473 7.535-9.276 8.092-15.136.194-.462.206-1.242.883-1.175.28.042.415.371.43.648-.393 6.697-.16 13.79 2.847 19.33l4.703-.048c-3.004-4.475-4.478-9.768-5.13-15.272.184-1.634-.697-3.263.512-4.62.23-.012.568.026.69.297.488 3.67 1.146 7.27 2.946 10.356 1.717 2.647 4.34 5.35 7.675 4.88 2.622-.15 4.97-2.244 6.064-4.602.689-2.555 3.397-4.228 5.068-6.398 1.372-2.373 2.064-5.88.627-8.486-3.178-5.705-10.87-4.025-16.218-3.497-1.012-.057-2.278.294-3.037-.384-.076-.332.07-.618.335-.864 2.587-.764 5.347-.528 8.078-.8 3.946-.504 8.052-2.085 9.845-5.99 1.059-2.134.723-4.977-.506-6.98l-.196-.229-.206-.228-.22-.219-.222-.207-.223-.199-.241-.197-.241-.189-.25-.177-.5-.356-.511-.345-.52-.346-.509-.336-.501-.355-.25-.178-.242-.188-.232-.198-.232-.198-.214-.2-.213-.218-.205-.218-.196-.229-.187-.248-.167-.25-.169-.269-.14-.28-.142-.289-.113-.301c-.517-1.151-1.583-2.157-2.629-2.816C38.2.363 36.82-.002 35.458 0zm2.677 6.374 1.183 1.22-.153.171-.154.162-.153.172-.163.173-.173.164-.163.172-.345.347-.336.336-.347.326-.163.174-.174.153-.163.163-.154.163 2.552 2.647.118.051 2.702-2.622 1.257 1.33-6.797 6.555-1.245-1.283c.786-.88 1.797-1.831 2.7-2.67l-2.67-2.699-2.77 2.618-1.186-1.276.421-.523 6.261-6.016.115-.008zM11.896 7.822c2.347 1.882 4.71 4.099 7.017 6.146l.006.114c-.428.418-.849.942-1.222 1.3l-2.773-2.473-2.577 2.78 2.773 2.471c-.364.53-.79.948-1.216 1.415l-7.01-6.205a27.49 27.49 0 0 1 1.205-1.413l2.833 2.526 2.52-2.776c-.83-.903-1.834-1.68-2.718-2.533.31-.468.84-.94 1.162-1.352zM37.62 29.701l7.333 5.792.057-.003-1.149 1.41c-.991-.558-1.943-1.57-2.932-2.233l-2.405 2.932 2.871 2.352c-.251.466-.666.941-1.09 1.407l-.41-.256-6.985-5.591 1.148-1.41 2.936 2.3c.842-.894 1.572-1.887 2.408-2.884l-.175-.212-2.754-2.137 1.147-1.467zm-24.27.604 1.245 1.273-2.76 2.626 2.566 2.705 2.826-2.457 1.196 1.276-.213.29-6.7 6.098-1.257-1.33 2.762-2.569c-.832-.96-1.728-1.85-2.559-2.763-.915.782-1.875 1.625-2.778 2.455-.405-.37-.94-.84-1.244-1.263l6.916-6.341z"
			/></svg
		>
		<br />4-H Fair App
	</div>
</div>

<style>
	.page {
		width: 100%;
		height: 100%;
		display: flex;
		flex-direction: column;
		padding: 0.9in;
		box-sizing: border-box;
		justify-content: space-between;
		align-items: center;
		position: relative;
	}
	.qrcode {
		width: 6in;
		aspect-ratio: 1;
	}
	.info {
		display: flex;
		flex-direction: column;
		align-items: center;
		text-align: center;
		gap: 12px;
	}
	.info > * {
		margin: 0;
	}
	.corner {
		position: absolute;
		bottom: 20px;
		left: 20px;
		/* margin: 20px; */
		font-family: 'DM Mono';
		font-size: 18px;
		color: #666;
	}
	.bottomRight {
		position: absolute;
		bottom: 20px;
		right: 20px;
		text-align: right;
		font-weight: 700;
		font-size: 20px;
		color: #009959;
	}
	.bottomRight svg {
		fill: currentColor;
		height: 64px;
	}
</style>
